<div class="container">
    <div class="movie-grid g-3">

        {% for movie in movies %}
            <div class="col">


                <div class="text-decoration-none text-reset"
                     hx-get="{% url 'tmdb:movie' movie_id=movie.id %}"
                     hx-target="#main-content"
                     style="cursor: pointer"
                >

                    <div class="card h-100 bg-body-secondary border-0 rounded-3">

                        <div class="poster-wrapper">
                            <img src="{{ imageurl }}{{ movie.poster_path }}"
                                 alt="{{ movie.name }}"
                                 loading="lazy"
                            >
                        </div>

                        <div class="card-body p-2">
                            <div class="fw-semibold text-truncate" title="{{ movie.name }}">
                                {{ movie.name }}
                            </div>

                            <div class="text-body-secondary small text-truncate"
                                 title="{{ movie.original_title }}">
                                {{ movie.original_title }}
                                {% if movie.release_date %}
                                    ({{ movie.release_date.year }})
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        {% endfor %}


        <style>
            .movie-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }

            .poster-wrapper {
                width: 100%;
                aspect-ratio: 2 / 3;
                overflow: hidden;
                background-color: var(--bs-secondary-bg);
            }

            .poster-wrapper img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }

            .card {
                transition: transform 0.15s ease, background-color 0.15s ease;
            }

            .card:hover {
                transform: translateY(-2px);
                background-color: var(--bs-secondary-bg-subtle);
            }

        </style>

    </div>
</div>
